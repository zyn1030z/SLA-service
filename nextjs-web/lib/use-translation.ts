"use client";
import React, { useState, useEffect } from "react";

type Language = "en" | "vi";

const translations = {
  en: {
    "navigation.dashboard": "Dashboard",
    "navigation.workflows": "Workflows",
    "navigation.records": "Records",
    "navigation.slaLogs": "SLA Logs",
    "slaLogs.title": "SLA Action Logs",
    "slaLogs.subtitle":
      "Review notification and auto-approval attempts triggered by SLA violations",
    "slaLogs.searchPlaceholder": "Search logs...",
    "slaLogs.applyFilters": "Apply Filters",
    "slaLogs.listTitle": "Log Entries",
    "slaLogs.listSubtitle":
      "All SLA notification and auto-approval activity with filter options",
    "slaLogs.actionType": "Action Type",
    "slaLogs.allTypes": "All Actions",
    "slaLogs.notify": "Notify",
    "slaLogs.autoApprove": "Auto Approve",
    "slaLogs.emptyState": "No log entries found",
    "slaLogs.recordId": "Record ID",
    "slaLogs.workflowId": "Workflow ID",
    "slaLogs.activityId": "Activity ID",
    "slaLogs.violationCount": "Violation Count",
    "slaLogs.success": "Success",
    "slaLogs.successYes": "Succeeded",
    "slaLogs.successNo": "Failed",
    "slaLogs.message": "Message",
    "slaLogs.createdAt": "Created At",
    "slaLogs.paginationPrefix": "Showing",
    "slaLogs.prevPage": "Previous",
    "slaLogs.nextPage": "Next",
    "dashboard.title": "SLA Dashboard",
    "dashboard.subtitle":
      "Monitor and track Service Level Agreement compliance",
    "dashboard.totalViolations": "Total Violations",
    "dashboard.activeRecords": "Active Records",
    "dashboard.completedToday": "Completed Today",
    "dashboard.successRate": "Success Rate",
    "dashboard.recentViolations": "Recent Violations",
    "dashboard.quickActions": "Quick Actions",
    "dashboard.viewAllWorkflows": "View All Workflows",
    "dashboard.exportReports": "Export Reports",
    "dashboard.configureSlaRules": "Configure SLA Rules",
    "dashboard.violationsDetected": "SLA violations detected",
    "dashboard.currentlyTracked": "Currently being tracked",
    "dashboard.successfullyProcessed": "Successfully processed",
    "dashboard.slaComplianceRate": "SLA compliance rate",
    "dashboard.latestViolations":
      "Latest SLA violations that require attention",
    "dashboard.noRecentViolations": "No recent violations found",
    "dashboard.commonTasks": "Common tasks and operations",
    "common.refresh": "Refresh",
    "common.loading": "Loading...",
    "workflows.title": "Workflows",
    "workflows.subtitle": "Manage SLA configurations for approval workflows",
    "workflows.addWorkflow": "Add Workflow",
    "workflows.totalWorkflows": "Total Workflows",
    "workflows.activeRecords": "Active Records",
    "workflows.totalViolations": "Total Violations",
    "workflows.workflowSummary": "Workflow Summary",
    "workflows.workflowDetails": "Workflow Details",
    "workflows.workflowSettings": "Workflow Settings",
    "workflows.overview": "Overview",
    "workflows.details": "Details",
    "workflows.settings": "Settings",
    "workflows.configuredWorkflows": "Configured workflows",
    "workflows.currentlyTracked": "Currently tracked",
    "workflows.slaViolations": "SLA violations",
    "workflows.workflowName": "Workflow Name",
    "workflows.model": "Model",
    "workflows.steps": "Steps",
    "workflows.violations": "Violations",
    "workflows.status": "Status",
    "workflows.active": "Active",
    "workflows.detailedView":
      "Detailed view of workflow steps and SLA configurations",
    "workflows.globalSettings":
      "Configure global SLA settings and notification preferences",
    "workflows.defaultSlaHours": "Default SLA Hours",
    "workflows.setDefaultSla": "Set default SLA hours for new workflow steps",
    "workflows.configureDefaultSettings": "Configure Default Settings",
    "workflows.notificationSettings": "Notification Settings",
    "workflows.manageNotifications": "Manage email and alert preferences",
    "workflows.notificationPreferences": "Notification Preferences",
    "workflows.apiConfig": "API Config",
    "workflows.apiConfiguration": "API Configuration",
    "workflows.apiConfigurationDescription":
      "Configure external API to sync workflows from other systems",
    "workflows.enableApiSync": "Enable API Sync",
    "workflows.apiBaseUrl": "API Base URL",
    "workflows.apiKey": "API Key",
    "workflows.apiEndpoints": "API Endpoints",
    "workflows.testConnection": "Test Connection",
    "workflows.syncNow": "Sync Now",
    "workflows.syncing": "Syncing...",
    "workflows.manualSync": "Manual Sync",
    "records.title": "SLA Records",
    "records.subtitle":
      "Track individual records and their SLA compliance status",
    "records.searchRecords": "Search records...",
    "records.filter": "Filter",
    "records.allRecords": "All Records",
    "records.waiting": "Waiting",
    "records.violated": "Violated",
    "records.completed": "Completed",
    "records.totalRecords": "Total Records",
    "records.pendingApproval": "Pending approval",
    "records.slaViolations": "SLA violations",
    "records.successfullyProcessed": "Successfully processed",
    "records.recordDetails": "Record Details",
    "records.detailedView": "Detailed view of all SLA tracking records",
    "records.recordId": "Record ID",
    "records.workflow": "Workflow",
    "records.currentStep": "Current Step",
    "records.status": "Status",
    "records.violations": "Violations",
    "records.timeRemaining": "Time Remaining",
    "records.started": "Started",
    "records.approvers": "Approvers",
    "records.groupBy": "Group by",
    "records.groupNone": "No grouping",
    "records.groupWorkflow": "Workflow",
    "records.groupStep": "Step",
    "records.groupStatus": "Status",
    "records.groupUnknown": "Unknown",
    "records.waitingRecords": "Waiting Records",
    "records.recordsWaiting":
      "Records currently waiting for approval within SLA",
    "records.violatedRecords": "Violated Records",
    "records.recordsExceeded":
      "Records that have exceeded their SLA time limits",
    "records.completedRecords": "Completed Records",
    "records.recordsProcessed": "Records that have been successfully processed",
    "records.overdueTime": "Overdue Time",
    "records.finalStep": "Final Step",
    "records.duration": "Duration",
    "records.withinSla": "Within SLA",
    "records.overdue": "overdue",
    "records.remaining": "remaining",
    "workflow.title": "Workflow Detail",
    "workflow.subtitle":
      "Configure SLA settings and violation handling for workflow steps",
    "workflow.back": "Back",
    "workflow.active": "Active",
    "workflow.inactive": "Inactive",
    "workflow.settings": "Settings",
    "workflow.totalSteps": "Total Steps",
    "workflow.configuredSteps": "Configured steps",
    "workflow.activeRecords": "Active Records",
    "workflow.currentlyTracked": "Currently tracked",
    "workflow.totalViolations": "Total Violations",
    "workflow.slaViolations": "SLA violations",
    "workflow.steps": "Steps",
    "workflow.configuration": "Configuration",
    "workflow.violations": "Violations",
    "workflow.workflowSteps": "Workflow Steps",
    "workflow.stepsDescription":
      "Manage and configure individual workflow steps with SLA settings",
    "workflow.addStep": "Add Step",
    "workflow.order": "Order",
    "workflow.stepName": "Step Name",
    "workflow.slaHours": "SLA Hours",
    "workflow.violationAction": "Violation Action",
    "workflow.maxViolations": "Max Violations",
    "workflow.status": "Status",
    "workflow.notify": "Notify",
    "workflow.autoApprove": "Auto Approve",
    "workflow.deleteStep": "Delete Step",
    "workflow.deleteStepConfirm":
      "Are you sure you want to delete this step? This action cannot be undone.",
    "workflow.slaConfiguration": "SLA Configuration",
    "workflow.slaConfigurationDescription":
      "Configure global SLA settings and violation handling policies",
    "workflow.notificationSettings": "Notification Settings",
    "workflow.emailNotifications": "Email Notifications",
    "workflow.smsNotifications": "SMS Notifications",
    "workflow.slackNotifications": "Slack Notifications",
    "workflow.autoApprovalSettings": "Auto Approval Settings",
    "workflow.globalMaxViolations": "Global Max Violations",
    "workflow.escalationHours": "Escalation Hours",
    "workflow.violationHandling": "Violation Handling",
    "workflow.notifyMode": "Notification Mode",
    "workflow.notifyModeDescription":
      "Send notifications when SLA is violated, continue tracking violations",
    "workflow.notifyModeBenefit1": "Maintains human oversight and control",
    "workflow.notifyModeBenefit2":
      "Allows for manual intervention and decision making",
    "workflow.autoApproveMode": "Auto Approval Mode",
    "workflow.autoApproveModeDescription":
      "Automatically approve after maximum violations reached",
    "workflow.autoApproveModeBenefit1": "Prevents workflow bottlenecks",
    "workflow.autoApproveModeBenefit2": "Ensures business continuity",
    "workflow.violationHistory": "Violation History",
    "workflow.violationHistoryDescription":
      "Track and monitor SLA violations across all workflow steps",
    "workflow.noViolationsYet": "No violations recorded yet",
    "workflow.addNewStep": "Add New Step",
    "workflow.stepCode": "Step Code",
    "workflow.stepNamePlaceholder": "Enter step name",
    "workflow.stepCodePlaceholder": "Enter step code",
    "workflow.selectViolationAction": "Select violation action",
    "common.back": "Back",
    "common.cancel": "Cancel",
    "common.delete": "Delete",
    "common.save": "Save",
    "common.actions": "Actions",
  },
  vi: {
    "navigation.dashboard": "Bảng điều khiển",
    "navigation.workflows": "Quy trình",
    "navigation.records": "Bản ghi",
    "navigation.slaLogs": "Nhật ký SLA",
    "slaLogs.title": "Nhật ký hành động SLA",
    "slaLogs.subtitle":
      "Xem lại các lần gửi thông báo và tự động phê duyệt khi vi phạm SLA",
    "slaLogs.searchPlaceholder": "Tìm kiếm nhật ký...",
    "slaLogs.applyFilters": "Áp dụng bộ lọc",
    "slaLogs.listTitle": "Danh sách nhật ký",
    "slaLogs.listSubtitle":
      "Toàn bộ hoạt động thông báo và tự động phê duyệt với các bộ lọc",
    "slaLogs.actionType": "Loại hành động",
    "slaLogs.allTypes": "Tất cả hành động",
    "slaLogs.notify": "Thông báo",
    "slaLogs.autoApprove": "Tự động phê duyệt",
    "slaLogs.emptyState": "Không tìm thấy nhật ký nào",
    "slaLogs.recordId": "ID bản ghi",
    "slaLogs.workflowId": "ID quy trình",
    "slaLogs.activityId": "ID hoạt động",
    "slaLogs.violationCount": "Số lần vi phạm",
    "slaLogs.success": "Thành công",
    "slaLogs.successYes": "Thành công",
    "slaLogs.successNo": "Thất bại",
    "slaLogs.message": "Thông điệp",
    "slaLogs.createdAt": "Thời gian tạo",
    "slaLogs.paginationPrefix": "Hiển thị",
    "slaLogs.prevPage": "Trang trước",
    "slaLogs.nextPage": "Trang sau",
    "dashboard.title": "Bảng điều khiển SLA",
    "dashboard.subtitle":
      "Giám sát và theo dõi tuân thủ Thỏa thuận Cấp độ Dịch vụ",
    "dashboard.totalViolations": "Tổng vi phạm",
    "dashboard.activeRecords": "Bản ghi đang hoạt động",
    "dashboard.completedToday": "Hoàn thành hôm nay",
    "dashboard.successRate": "Tỷ lệ thành công",
    "dashboard.recentViolations": "Vi phạm gần đây",
    "dashboard.quickActions": "Hành động nhanh",
    "dashboard.viewAllWorkflows": "Xem tất cả quy trình",
    "dashboard.exportReports": "Xuất báo cáo",
    "dashboard.configureSlaRules": "Cấu hình quy tắc SLA",
    "dashboard.violationsDetected": "Phát hiện vi phạm SLA",
    "dashboard.currentlyTracked": "Đang được theo dõi",
    "dashboard.successfullyProcessed": "Xử lý thành công",
    "dashboard.slaComplianceRate": "Tỷ lệ tuân thủ SLA",
    "dashboard.latestViolations": "Các vi phạm SLA mới nhất cần chú ý",
    "dashboard.noRecentViolations": "Không có vi phạm nào gần đây",
    "dashboard.commonTasks": "Các tác vụ thường dùng",
    "common.refresh": "Làm mới",
    "common.loading": "Đang tải...",
    "workflows.title": "Quy trình",
    "workflows.subtitle": "Quản lý cấu hình SLA cho các quy trình phê duyệt",
    "workflows.addWorkflow": "Thêm quy trình",
    "workflows.totalWorkflows": "Tổng quy trình",
    "workflows.activeRecords": "Bản ghi đang hoạt động",
    "workflows.totalViolations": "Tổng vi phạm",
    "workflows.workflowSummary": "Tóm tắt quy trình",
    "workflows.workflowDetails": "Chi tiết quy trình",
    "workflows.workflowSettings": "Cài đặt quy trình",
    "workflows.overview": "Tổng quan",
    "workflows.details": "Chi tiết",
    "workflows.settings": "Cài đặt",
    "workflows.configuredWorkflows": "Quy trình đã cấu hình",
    "workflows.currentlyTracked": "Đang được theo dõi",
    "workflows.slaViolations": "Vi phạm SLA",
    "workflows.workflowName": "Tên quy trình",
    "workflows.model": "Mô hình",
    "workflows.steps": "Bước",
    "workflows.violations": "Vi phạm",
    "workflows.status": "Trạng thái",
    "workflows.active": "Hoạt động",
    "workflows.detailedView": "Xem chi tiết các bước quy trình và cấu hình SLA",
    "workflows.globalSettings":
      "Cấu hình cài đặt SLA toàn cục và tùy chọn thông báo",
    "workflows.defaultSlaHours": "Giờ SLA mặc định",
    "workflows.setDefaultSla":
      "Đặt giờ SLA mặc định cho các bước quy trình mới",
    "workflows.configureDefaultSettings": "Cấu hình cài đặt mặc định",
    "workflows.notificationSettings": "Cài đặt thông báo",
    "workflows.manageNotifications": "Quản lý tùy chọn email và cảnh báo",
    "workflows.notificationPreferences": "Tùy chọn thông báo",
    "workflows.apiConfig": "Cấu hình API",
    "workflows.apiConfiguration": "Cấu hình API",
    "workflows.apiConfigurationDescription":
      "Cấu hình API bên ngoài để đồng bộ workflows từ hệ thống khác",
    "workflows.enableApiSync": "Bật đồng bộ API",
    "workflows.apiBaseUrl": "URL API cơ sở",
    "workflows.apiKey": "Khóa API",
    "workflows.apiEndpoints": "Điểm cuối API",
    "workflows.testConnection": "Kiểm tra kết nối",
    "workflows.syncNow": "Đồng bộ ngay",
    "workflows.syncing": "Đang đồng bộ...",
    "workflows.manualSync": "Đồng bộ thủ công",
    "records.title": "Bản ghi SLA",
    "records.subtitle":
      "Theo dõi các bản ghi riêng lẻ và trạng thái tuân thủ SLA",
    "records.searchRecords": "Tìm kiếm bản ghi...",
    "records.filter": "Lọc",
    "records.allRecords": "Tất cả bản ghi",
    "records.waiting": "Đang chờ",
    "records.violated": "Vi phạm",
    "records.completed": "Hoàn thành",
    "records.totalRecords": "Tổng bản ghi",
    "records.pendingApproval": "Chờ phê duyệt",
    "records.slaViolations": "Vi phạm SLA",
    "records.successfullyProcessed": "Xử lý thành công",
    "records.recordDetails": "Chi tiết bản ghi",
    "records.detailedView": "Xem chi tiết tất cả bản ghi theo dõi SLA",
    "records.recordId": "ID bản ghi Odoo",
    "records.workflow": "Quy trình",
    "records.currentStep": "Bước hiện tại",
    "records.status": "Trạng thái",
    "records.violations": "Vi phạm",
    "records.timeRemaining": "Thời gian còn lại",
    "records.started": "Bắt đầu",
    "records.approvers": "Người phê duyệt",
    "records.groupBy": "Nhóm theo",
    "records.groupNone": "Không nhóm",
    "records.groupWorkflow": "Quy trình",
    "records.groupStep": "Bước",
    "records.groupStatus": "Trạng thái",
    "records.groupUnknown": "Không xác định",
    "records.waitingRecords": "Bản ghi đang chờ",
    "records.recordsWaiting": "Bản ghi hiện đang chờ phê duyệt trong SLA",
    "records.violatedRecords": "Bản ghi vi phạm",
    "records.recordsExceeded": "Bản ghi đã vượt quá giới hạn thời gian SLA",
    "records.completedRecords": "Bản ghi đã hoàn thành",
    "records.recordsProcessed": "Bản ghi đã được xử lý thành công",
    "records.overdueTime": "Thời gian quá hạn",
    "records.finalStep": "Bước cuối",
    "records.duration": "Thời lượng",
    "records.withinSla": "Trong SLA",
    "records.overdue": "quá hạn",
    "records.remaining": "còn lại",
    "workflow.title": "Chi tiết quy trình",
    "workflow.subtitle":
      "Cấu hình cài đặt SLA và xử lý vi phạm cho các bước quy trình",
    "workflow.back": "Quay lại",
    "workflow.active": "Hoạt động",
    "workflow.inactive": "Không hoạt động",
    "workflow.settings": "Cài đặt",
    "workflow.totalSteps": "Tổng bước",
    "workflow.configuredSteps": "Bước đã cấu hình",
    "workflow.activeRecords": "Bản ghi đang hoạt động",
    "workflow.currentlyTracked": "Đang được theo dõi",
    "workflow.totalViolations": "Tổng vi phạm",
    "workflow.slaViolations": "Vi phạm SLA",
    "workflow.steps": "Bước",
    "workflow.configuration": "Cấu hình",
    "workflow.violations": "Vi phạm",
    "workflow.workflowSteps": "Các bước quy trình",
    "workflow.stepsDescription":
      "Quản lý và cấu hình các bước quy trình riêng lẻ với cài đặt SLA",
    "workflow.addStep": "Thêm bước",
    "workflow.order": "Thứ tự",
    "workflow.stepName": "Tên bước",
    "workflow.slaHours": "Giờ SLA",
    "workflow.violationAction": "Hành động vi phạm",
    "workflow.maxViolations": "Số lần vi phạm tối đa",
    "workflow.status": "Trạng thái",
    "workflow.notify": "Thông báo",
    "workflow.autoApprove": "Tự động phê duyệt",
    "workflow.deleteStep": "Xóa bước",
    "workflow.deleteStepConfirm":
      "Bạn có chắc chắn muốn xóa bước này? Hành động này không thể hoàn tác.",
    "workflow.slaConfiguration": "Cấu hình SLA",
    "workflow.slaConfigurationDescription":
      "Cấu hình cài đặt SLA toàn cục và chính sách xử lý vi phạm",
    "workflow.notificationSettings": "Cài đặt thông báo",
    "workflow.emailNotifications": "Thông báo Email",
    "workflow.smsNotifications": "Thông báo SMS",
    "workflow.slackNotifications": "Thông báo Slack",
    "workflow.autoApprovalSettings": "Cài đặt tự động phê duyệt",
    "workflow.globalMaxViolations": "Số lần vi phạm tối đa toàn cục",
    "workflow.escalationHours": "Giờ leo thang",
    "workflow.violationHandling": "Xử lý vi phạm",
    "workflow.notifyMode": "Chế độ thông báo",
    "workflow.notifyModeDescription":
      "Gửi thông báo khi vi phạm SLA, tiếp tục theo dõi vi phạm",
    "workflow.notifyModeBenefit1":
      "Duy trì giám sát và kiểm soát của con người",
    "workflow.notifyModeBenefit2":
      "Cho phép can thiệp thủ công và ra quyết định",
    "workflow.autoApproveMode": "Chế độ tự động phê duyệt",
    "workflow.autoApproveModeDescription":
      "Tự động phê duyệt sau khi đạt số lần vi phạm tối đa",
    "workflow.autoApproveModeBenefit1": "Ngăn chặn tắc nghẽn quy trình",
    "workflow.autoApproveModeBenefit2": "Đảm bảo tính liên tục kinh doanh",
    "workflow.violationHistory": "Lịch sử vi phạm",
    "workflow.violationHistoryDescription":
      "Theo dõi và giám sát vi phạm SLA trên tất cả các bước quy trình",
    "workflow.noViolationsYet": "Chưa có vi phạm nào được ghi nhận",
    "workflow.addNewStep": "Thêm bước mới",
    "workflow.stepCode": "Mã bước",
    "workflow.stepNamePlaceholder": "Nhập tên bước",
    "workflow.stepCodePlaceholder": "Nhập mã bước",
    "workflow.selectViolationAction": "Chọn hành động vi phạm",
    "common.back": "Quay lại",
    "common.cancel": "Hủy",
    "common.delete": "Xóa",
    "common.save": "Lưu",
    "common.actions": "Hành động",
  },
};

export function useTranslation() {
  const [language, setLanguage] = useState<Language>("en");

  useEffect(() => {
    if (typeof window !== "undefined") {
      const saved = localStorage.getItem("language") as Language;
      if (saved && (saved === "en" || saved === "vi")) {
        setLanguage(saved);
      }
    }
  }, []);

  const changeLanguage = (lang: Language) => {
    setLanguage(lang);
    if (typeof window !== "undefined") {
      localStorage.setItem("language", lang);
    }
  };

  const t = (key: string): string => {
    return (
      translations[language][
        key as keyof (typeof translations)[typeof language]
      ] || key
    );
  };

  return { language, setLanguage: changeLanguage, t };
}
