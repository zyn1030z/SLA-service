#!/bin/bash

echo "ğŸ¯ SLA Service - API Configuration Demo"
echo "======================================="
echo ""

echo "âœ… TÃ­nh nÄƒng API Configuration Ä‘Ã£ Ä‘Æ°á»£c thÃªm:"
echo "â€¢ Button 'API Config' trong header workflows"
echo "â€¢ Modal cáº¥u hÃ¬nh API vá»›i cÃ¡c trÆ°á»ng:"
echo "  - Enable API Sync (checkbox)"
echo "  - API Base URL (text input)"
echo "  - API Key (password input)"
echo "  - API Endpoints preview"
echo "â€¢ Test Connection button"
echo "â€¢ Save configuration to localStorage"
echo "â€¢ Sync Now button khi API Ä‘Æ°á»£c enable"
echo ""

echo "ğŸ¯ CÃ¡ch sá»­ dá»¥ng API Configuration:"
echo "1. Truy cáº­p http://localhost:3001/workflows"
echo "2. Click button 'API Config' (âš™ï¸) trong header"
echo "3. Cáº¥u hÃ¬nh cÃ¡c thÃ´ng tin:"
echo "   â€¢ Báº­t 'Enable API Sync'"
echo "   â€¢ Nháº­p 'API Base URL' (vÃ­ dá»¥: https://your-odoo.com)"
echo "   â€¢ Nháº­p 'API Key'"
echo "4. Click 'Test Connection' Ä‘á»ƒ kiá»ƒm tra káº¿t ná»‘i"
echo "5. Click 'Save' Ä‘á»ƒ lÆ°u cáº¥u hÃ¬nh"
echo "6. Click 'Sync Now' Ä‘á»ƒ Ä‘á»“ng bá»™ workflows tá»« API"
echo ""

echo "ğŸ”§ Chi tiáº¿t ká»¹ thuáº­t:"
echo "â€¢ State management: apiConfig, showApiConfig, syncLoading"
echo "â€¢ localStorage Ä‘á»ƒ lÆ°u cáº¥u hÃ¬nh API"
echo "â€¢ Fetch API vá»›i Bearer token authentication"
echo "â€¢ Error handling vÃ  user feedback"
echo "â€¢ Conditional rendering cho Sync button"
echo "â€¢ Loading states vá»›i spinner animation"
echo ""

echo "ğŸ“¡ API Endpoints Ä‘Æ°á»£c há»— trá»£:"
echo "â€¢ GET {baseUrl}/api/workflows - Láº¥y danh sÃ¡ch workflows"
echo "â€¢ GET {baseUrl}/api/test - Kiá»ƒm tra káº¿t ná»‘i API"
echo "â€¢ Headers: Authorization: Bearer {apiKey}"
echo "â€¢ Content-Type: application/json"
echo ""

echo "ğŸ¨ UI Features:"
echo "â€¢ Modal overlay vá»›i backdrop"
echo "â€¢ Form validation vÃ  error handling"
echo "â€¢ Password field cho API Key"
echo "â€¢ Endpoints preview vá»›i dynamic URL"
echo "â€¢ Loading spinner cho sync operation"
echo "â€¢ Success/error alerts"
echo ""

echo "ğŸ”„ Workflow Sync Process:"
echo "1. Enable API Sync â†’ Sync button xuáº¥t hiá»‡n"
echo "2. Configure URL & Key â†’ Save configuration"
echo "3. Test Connection â†’ Verify API accessibility"
echo "4. Sync Now â†’ Fetch workflows tá»« external API"
echo "5. Update UI â†’ Display synced workflows"
echo ""

echo "ğŸ’¾ Data Persistence:"
echo "â€¢ API config Ä‘Æ°á»£c lÆ°u trong localStorage"
echo "â€¢ Tá»± Ä‘á»™ng load config khi reload trang"
echo "â€¢ Fallback vá» mock data náº¿u API disabled"
echo ""

echo "ğŸ‰ TÃ­nh nÄƒng API Configuration Ä‘Ã£ hoáº¡t Ä‘á»™ng!"
echo "Truy cáº­p: http://localhost:3001/workflows"
